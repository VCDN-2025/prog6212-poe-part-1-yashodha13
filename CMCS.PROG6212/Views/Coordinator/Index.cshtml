@model IEnumerable<CMCS.PROG6212.Models.Claim>

@{
    ViewData["Title"] = "Coordinator Dashboard";
}

@* Coordinator review view structured using Bootstrap cards/tables and ASP.NET Core Razor patterns (Bootstrap, 2024; Microsoft, 2024a). *@

<h2>Coordinator Dashboard</h2>
<p>Below is the list of claims pending your review:</p>

@if (TempData["Msg"] != null)
{
    <div class="alert alert-success">@TempData["Msg"]</div>
}
@if (!Model.Any())
{
    <div class="alert alert-info">No pending claims at the moment.</div>
}
else
{
    <table class="table table-striped table-bordered align-middle">
        <thead class="table-dark">
            <tr>
                <th>Claim #</th>
                <th>Lecturer</th>
                <th>Month</th>
                <th>Total</th>
                <th>Status</th>
                <th style="width: 420px;">Action</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var claim in Model)
            {
                <tr>
                    <td>@claim.ClaimId</td>
                    <td>@claim.LecturerId</td>
                    <td>@claim.Month.ToString("MMMM yyyy")</td>
                    <td><strong>@claim.TotalAmount.ToString("C")</strong></td>
                    <td><span class="badge bg-info">@claim.Status</span></td>
                    <td>
                        <div class="d-flex gap-2">
                            <form asp-action="Approve" method="post" class="d-flex gap-2">
                                <input type="hidden" name="id" value="@claim.ClaimId" />
                                <input type="text" name="comment" class="form-control form-control-sm" placeholder="Comment (optional)" />
                                <button type="submit" class="btn btn-sm btn-success">Approve</button>
                            </form>

                            <form asp-action="Reject" method="post" class="d-flex gap-2">
                                <input type="hidden" name="id" value="@claim.ClaimId" />
                                <input type="text" name="comment" class="form-control form-control-sm" placeholder="Comment (optional)" />
                                <button type="submit" class="btn btn-sm btn-danger">Reject</button>
                            </form>

                            <a asp-action="Review" asp-route-id="@claim.ClaimId" class="btn btn-sm btn-outline-secondary">
                                View
                            </a>
                        </div>
                    </td>
                </tr>
            }
        </tbody>
    </table>
}


@*
References

Microsoft Docs. 2025. Unit testing C# in .NET using dotnet test and xUnit. Microsoft Learn. 
Available at: https://learn.microsoft.com/en-us/dotnet/core/testing/unit-testing-csharp-with-xunit 
(Accessed: 22 October 2025).

xUnit.net. 2025. Getting Started with xUnit.net v2. xUnit.net. 
Available at: https://xunit.net/docs/getting-started/v2/getting-started 
(Accessed: 22 October 2025).

Chiarelli, A. 2021. Using xUnit to Test your C# Code. Auth0 Blog. 
Available at: https://auth0.com/blog/xunit-to-test-csharp-code 
(Accessed: 22 October 2025).

Spasojević, M. 2022. Unit Testing with xUnit in ASP.NET Core. Code Maze. 
Available at: https://code-maze.com/aspnetcore-unit-testing-xunit 
(Accessed: 22 October 2025).

Bruni, O. 2025. How to Use xUnit for Unit Testing in .NET Project Using C# in VSCode. 
Available at: https://www.ottorinobruni.com/how-to-use-xunit-for-unit-testing-in-dotnet-project-using-csharp-in-vscode 
(Accessed: 22 October 2025).
*@
